# 教材生詞分析助手 - 網站版
# Vocabulary Analysis Assistant - Web Version

## 🌐 網站說明

這是一個獨立的網頁應用程式，無需安裝 Chrome 擴充功能，直接在瀏覽器中使用。

---

## ✨ 功能特色

### 📊 完整功能
- ✅ 中文斷詞分析
- ✅ TBCL 等級標示（Level 1-7）
- ✅ 舊詞過濾（B1-B6L1 預設內建）
- ✅ **🆕 彈性避開清單選擇（可自由選擇要避開哪些冊別）**
- ✅ 生詞清單顯示
- ✅ 統計資訊
- ✅ 一鍵複製
- ✅ JSON 匯出
- ✅ 自訂舊詞管理

### 📚 資料庫
- **TBCL 詞彙**：14,836 個詞彙（Level 1-7）
- **預設舊詞**：B1-B6L1（1,657 個詞彙）
- **儲存方式**：localStorage（瀏覽器本地儲存）

---

## 🆕 新功能：避開生詞清單選擇

### 功能說明

在頁面頂部新增「🎯 避開生詞清單設定」區塊，讓你可以**彈性選擇要避開哪些冊別的生詞**。

### 使用方式

#### 1️⃣ 選擇避開的冊別

勾選你想要避開的冊別：
- ☑️ 第一冊 (B1)
- ☑️ 第二冊 (B2)
- ☑️ 第三冊 (B3)
- ☑️ 第四冊 (B4)
- ☑️ 第五冊 (B5)
- ☑️ 第六冊第一課 (B6L1)

**預設狀態**：全部勾選（避開 B1-B6L1 所有詞彙）

#### 2️⃣ 快速操作按鈕

- **✅ 全選**：一鍵勾選所有冊別
- **❌ 全不選**：一鍵取消所有勾選（不過濾任何預設詞彙）

#### 3️⃣ 即時統計

設定區下方會即時顯示：
- **目前避開冊別**：顯示已勾選的冊別
- **避開詞彙數量**：顯示總共避開多少個詞彙

### 實際應用範例

#### 範例 1：學生已學完 B1-B3
**設定**：
- ✅ 勾選 B1, B2, B3
- ❌ 不勾選 B4, B5, B6L1

**結果**：分析時只會過濾 B1-B3 的詞彙，B4-B6L1 的詞彙會出現在結果中

#### 範例 2：分析高級教材
**設定**：
- ✅ 全部勾選（B1-B6L1）

**結果**：過濾所有基礎詞彙，只顯示高級生詞

#### 範例 3：查看所有詞彙
**設定**：
- ❌ 全不選

**結果**：不過濾任何預設詞彙，所有詞都會顯示（包含 B1-B6L1）

#### 範例 4：只避開初級詞彙
**設定**：
- ✅ 勾選 B1, B2
- ❌ 不勾選 B3, B4, B5, B6L1

**結果**：只過濾 B1-B2 的詞彙，其他冊別詞彙都會顯示

### 與自訂舊詞的關係

**重要說明**：
- **預設詞彙（B1-B6L1）**：由「避開清單選擇」控制
- **自訂舊詞**：永遠都會被過濾（不受避開清單影響）

**範例**：
- 你在「舊詞管理」中新增了「民主」、「制度」
- 即使你取消勾選所有避開清單
- 「民主」、「制度」仍然會被過濾掉

---

## 🚀 使用方式

### 方法 1：本地開啟（推薦）

1. **下載所有檔案**
   ```
   index.html
   app.js
   tbcl_data.json
   default_vocab.txt
   README.md
   ```

2. **雙擊開啟 `index.html`**
   - 直接用瀏覽器開啟即可使用
   - 支援 Chrome、Edge、Firefox、Safari

3. **開始使用**
   - 選擇要避開的冊別
   - 貼上文字 → 點擊「開始分析」
   - 查看生詞清單和等級標示

---

### 方法 2：架設網站伺服器

如果要部署到網路上供其他人使用：

#### 選項 A：使用 Python 簡易伺服器

```bash
# 進入資料夾
cd vocab-website

# 啟動伺服器（Python 3）
python -m http.server 8000

# 開啟瀏覽器訪問
http://localhost:8000
```

#### 選項 B：使用 Node.js

```bash
# 安裝 http-server
npm install -g http-server

# 啟動伺服器
http-server -p 8000

# 開啟瀏覽器訪問
http://localhost:8000
```

#### 選項 C：部署到雲端

可以部署到以下平台（免費）：
- **GitHub Pages**
- **Netlify**
- **Vercel**
- **Cloudflare Pages**

---

## 📖 完整操作指南

### 步驟 1：設定避開清單 🆕

1. **選擇要避開的冊別**
   - 在頁面最上方的「🎯 避開生詞清單設定」區塊
   - 勾選你想要過濾掉的冊別生詞

2. **快速操作**
   - 點擊「✅ 全選」：避開所有 B1-B6L1 詞彙
   - 點擊「❌ 全不選」：不過濾任何預設詞彙

3. **查看統計**
   - 確認目前避開的冊別和詞彙數量

### 步驟 2：分析文字

1. **複製文字**
   - 從 Google Docs、PDF、Word 等文件複製文字
   - 或直接輸入文字

2. **貼上到輸入框**
   - 左側的「📝 輸入文字」區域

3. **點擊「🔍 開始分析」**
   - 系統會自動：
     - 進行中文斷詞
     - 根據避開清單過濾詞彙
     - 過濾自訂舊詞
     - 標示 TBCL 等級
     - 顯示統計資訊

4. **查看結果**
   - 右側顯示生詞清單
   - 每個詞彙標示等級（Level 1-7）
   - 底部顯示統計資訊

---

### 步驟 3：匯出結果

**📋 複製全部**
- 點擊「📋 複製全部」按鈕
- 貼到 Word 或其他編輯器

**💾 匯出 JSON**
- 點擊「💾 匯出 JSON」按鈕
- 下載 JSON 格式檔案
- 可用於進一步處理或記錄

---

### 步驟 4：管理舊詞（進階功能）

**➕ 新增舊詞**
1. 在「⚙️ 舊詞管理」區域輸入新詞彙
2. 點擊「➕ 新增到舊詞清單」
3. 新詞彙會自動合併到現有清單

**🔄 覆蓋舊詞**
1. 輸入完整的舊詞清單
2. 點擊「🔄 覆蓋舊詞清單」
3. 會完全替換自訂舊詞（預設 B1-B6L1 不受影響）

**📋 顯示目前舊詞**
- 點擊「📋 顯示目前舊詞」
- 所有自訂舊詞會顯示在輸入框中

**🗑️ 清除全部**
- 點擊「🗑️ 清除全部」
- 清除所有自訂舊詞
- 預設的 B1-B6L1 不會被刪除

---

## 💾 資料儲存

### 儲存位置
- **避開清單選擇**：即時生效，不儲存（每次開啟預設全選）
- **自訂舊詞清單**：儲存在瀏覽器的 localStorage
- **TBCL 資料**：從 `tbcl_data.json` 讀取
- **預設舊詞**：從 `default_vocab.txt` 讀取

### 資料持久性
- ✅ 自訂舊詞會保存在瀏覽器中
- ✅ 關閉網頁後資料仍然存在
- ❌ 避開清單選擇不會保存（每次開啟預設全選）
- ⚠️ 清除瀏覽器資料會刪除自訂舊詞

### 備份建議
定期使用「📋 顯示目前舊詞」功能，複製並保存自訂舊詞清單。

---

## 🎨 功能特色

### 視覺化等級標示
- **Level 1**：綠色（基礎）
- **Level 2**：藍色（基礎）
- **Level 3**：橙色（基礎）
- **Level 4**：黃色（進階）
- **Level 5**：粉紅色（進階）
- **Level 6**：紫色（精熟）
- **Level 7**：紅色（精熟）
- **未知/超綱**：灰色

### 響應式設計
- ✅ 桌面電腦（大螢幕）
- ✅ 平板（中等螢幕）
- ✅ 手機（小螢幕）

---

## 🔧 技術規格

### 前端技術
- **HTML5**
- **CSS3**（Grid、Flexbox）
- **原生 JavaScript**（ES6+）
- **Intl.Segmenter API**（中文斷詞）

### 瀏覽器要求
- Chrome 87+
- Edge 87+
- Safari 14.1+
- Firefox 91+

（主要需要支援 `Intl.Segmenter` API）

### 檔案結構
```
vocab-website/
├── index.html          # 主頁面（含避開清單選擇介面）
├── app.js              # 核心邏輯（含避開清單處理）
├── tbcl_data.json      # TBCL 詞彙資料庫（14,836 個詞彙）
├── default_vocab.txt   # 預設舊詞（B1-B6L1，1,657 個）
└── README.md           # 說明文件
```

---

## 📊 資料統計

### TBCL 詞彙資料庫
| 等級 | 詞彙數量 |
|------|----------|
| Level 1 | 443 個 |
| Level 2 | 448 個 |
| Level 3 | 487 個 |
| Level 4 | 1,495 個 |
| Level 5 | 2,735 個 |
| Level 6 | 4,222 個 |
| Level 7 | 5,006 個 |
| **總計** | **14,836 個** |

### 預設舊詞（B1-B6L1）
- **總數**：1,657 個詞彙
- **來源**：B1 到 B6L1 課程詞彙
- **更新**：可隨時新增更多舊詞

---

## 🆚 與 Chrome 擴充功能的差異

| 功能 | 網站版 | Chrome 擴充版 |
|------|--------|--------------|
| 安裝 | ❌ 不需要 | ✅ 需要安裝 |
| 網頁選取文字 | ❌ | ✅ |
| 貼上文字分析 | ✅ | ✅ |
| TBCL 分級 | ✅ | ✅ |
| 舊詞過濾 | ✅ | ✅ |
| 🆕 彈性避開清單 | ✅ | ❌ |
| 跨平台使用 | ✅ 所有瀏覽器 | ❌ 僅 Chrome |
| 離線使用 | ✅ | ✅ |
| 資料同步 | ❌ | ✅ Chrome Sync |

---

## 💡 使用範例

### 範例 1：分析新聞文章（避開 B1-B6L1）

**設定**：
- ✅ 全選避開清單（預設）

**輸入：**
```
台灣的民主制度促進了社會的多元發展，
各界人士積極參與公共事務的討論。
```

**輸出：**
```
1. 民主 (Level 4)
2. 制度 (Level 4)
3. 促進 (Level 5)
4. 多元 (Level 5)
5. 各界 (Level 6)
6. 人士 (Level 4)
7. 積極 (Level 4)
8. 參與 (Level 4)
9. 公共 (Level 5)
10. 事務 (Level 5)
11. 討論 (Level 3)
```

### 範例 2：分析中級教材（只避開 B1-B2）

**設定**：
- ✅ 勾選 B1, B2
- ❌ 不勾選 B3, B4, B5, B6L1

**輸入：**
```
因為天氣很好，所以我們決定去公園散步。
```

**輸出：**
會顯示 B3-B6L1 中的詞彙（如果文中有的話），但不會顯示 B1-B2 的詞彙如「因為」、「天氣」、「所以」等。

### 範例 3：JSON 匯出格式

```json
{
  "timestamp": "2025-12-27T01:50:00.000Z",
  "totalWords": 11,
  "vocabulary": [
    { "word": "民主", "level": "4" },
    { "word": "制度", "level": "4" },
    { "word": "促進", "level": "5" },
    { "word": "多元", "level": "5" },
    { "word": "各界", "level": "6" }
  ]
}
```

---

## 🐛 常見問題

### Q1: 為什麼有些詞彙顯示「未知/超綱」？
**A:** 這表示該詞彙不在 TBCL 14,836 個詞彙資料庫中，可能是：
- 專有名詞
- 新造詞
- 非標準詞彙

### Q2: 避開清單選擇會被保存嗎？
**A:** 不會。每次開啟網頁都會恢復為預設狀態（全部勾選）。這是為了確保使用的一致性。

### Q3: 如果我想永久不過濾某些詞彙怎麼辦？
**A:** 有兩種方式：
1. 每次使用時取消勾選對應的冊別
2. 不要把那些詞彙加入「自訂舊詞清單」中

### Q4: 可以離線使用嗎？
**A:** 可以！只要下載所有檔案到本地，就能離線使用。

### Q5: 自訂的舊詞會消失嗎？
**A:** 除非清除瀏覽器資料或主動刪除，否則會一直保存。建議定期備份。

### Q6: 可以分析多長的文字？
**A:** 理論上沒有限制，但建議單次不超過 10,000 字，以確保效能。

### Q7: 支援簡體中文嗎？
**A:** 目前主要針對繁體中文設計，簡體中文可能有部分詞彙無法正確識別。

### Q8: 避開清單和自訂舊詞有什麼不同？
**A:** 
- **避開清單**：控制預設詞彙（B1-B6L1），可以隨時切換
- **自訂舊詞**：你額外添加的詞彙，永遠都會被過濾

---

## 📞 支援與回饋

如有問題或建議，歡迎聯繫。

---

## 📝 更新日誌

### Version 1.1.0 (2025-12-27) 🆕
- ✨ 新增「避開生詞清單選擇」功能
- ✨ 可彈性選擇要避開哪些冊別（B1-B6L1）
- ✨ 新增「全選」和「全不選」快速按鈕
- ✨ 新增即時統計顯示
- 🎨 優化使用者介面和交互體驗
- 📱 改進響應式設計

### Version 1.0.0 (2025-12-27)
- 🎉 首次發布
- ✅ 中文斷詞分析
- ✅ TBCL 等級標示
- ✅ 舊詞過濾（B1-B6L1）
- ✅ 自訂舊詞管理

---

## 📄 授權

此專案為教學示範用途，請根據您的需求自行調整使用。

---

**祝您使用愉快！** 📚✨

---

**更新日期**：2025-12-27  
**版本**：1.1.0 🆕  
**資料版本**：TBCL 2025-04